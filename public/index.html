<!doctype html>
<html lang="cs">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>TY VOLE .wtf ‚Äî Gen-Z hl√°≈°ky</title>
<meta name="description" content="K√°mo, klikni pro instant vibe. Gen-Z hl√°≈°ky, memy a p≈ôechod do chatu.">
<style>
  :root{
    --bg:#0b0b10; --card:#111118; --muted:#a7a7b4; --line:#232333; --ink:#f2f2f7;
    --accent:#9DFF00; --accent2:#00F0FF;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--ink); background: radial-gradient(1200px 600px at 70% 10%, rgba(0,240,255,.06), transparent 60%) ,
                                 radial-gradient(900px 500px at 10% 80%, rgba(157,255,0,.05), transparent 55%) ,
                                 var(--bg);
    font:16px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    letter-spacing:.01em;
    display:flex; align-items:center; justify-content:center; padding:28px;
  }
  .shell{width:min(980px,100%);}

  header{
    display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:16px;
  }
  .brand{display:flex; align-items:center; gap:10px; font-weight:900; letter-spacing:.02em}
  .brand .dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(90deg,var(--accent),var(--accent2)); box-shadow:0 0 18px rgba(157,255,0,.7)}
  .brand span{opacity:.65;font-weight:800}
  .chiprow{display:flex; gap:10px; flex-wrap:wrap}
  .chip{border:1px solid var(--line); background:rgba(255,255,255,.02); color:var(--muted);
        padding:8px 12px; border-radius:999px; font-size:13px}

  .card{
    position:relative; overflow:hidden;
    border:1px solid var(--line); background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
    border-radius:24px; padding:26px; box-shadow:0 20px 60px rgba(0,0,0,.35);
  }

  h1{margin:0 0 6px; font-size:clamp(28px,7vw,56px); line-height:1.1; letter-spacing:-.02em}
  .subtitle{color:var(--muted); font-weight:600; font-size:14px}
  .quote{margin:18px 0 10px; font-weight:800; font-size:clamp(22px,4.5vw,40px); letter-spacing:-.015em}
  .row{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}

  button{
    appearance:none; border:0; cursor:pointer; font-weight:800;
    padding:12px 16px; border-radius:14px;
  }
  .primary{color:#0c0c10; background:linear-gradient(90deg,var(--accent),var(--accent2));}
  .ghost{color:var(--ink); background:transparent; border:1px solid var(--line)}
  .tiny{font-size:13px; padding:8px 12px}

  .bubble{
    position:fixed; right:18px; bottom:18px; width:min(340px,calc(100% - 36px));
    border:1px solid var(--line); border-radius:16px; padding:12px 14px;
    background:rgba(20,20,28,.92); backdrop-filter:saturate(140%) blur(6px);
    box-shadow:0 18px 50px rgba(0,0,0,.45); display:none;
  }
  .bubble.show{ display:block; animation:pop .22s ease-out }
  .bubble a{ color:var(--accent); font-weight:900; text-decoration:none }
  .hint{ color:var(--muted); font-size:13px; margin-top:6px }

  @keyframes pop{ from{ transform:scale(.95); opacity:.5 } to{ transform:scale(1); opacity:1 } }

  footer{margin-top:12px; display:flex; align-items:center; justify-content:space-between; color:var(--muted); font-size:12px}
  .mode{display:flex; gap:6px; align-items:center}
  .mode button{padding:6px 10px; border-radius:999px; border:1px solid var(--line); background:transparent; color:var(--muted); font-weight:700}
  .mode button.active{border-color:var(--accent); color:var(--ink)}
</style>
</head>
<body>
  <div class="shell">
    <header>
      <div class="brand">
        <div class="dot"></div>
        <div>TY&nbsp;VOLE<span>.wtf</span></div>
      </div>
      <div class="chiprow">
        <div class="chip">#skibidi</div>
        <div class="chip">#rizz</div>
        <div class="chip">#based</div>
        <div class="chip">#drip</div>
      </div>
    </header>

    <div class="card">
      <div class="subtitle">Instant vibe generator</div>
      <div class="quote" id="quote">‚Ä¶naƒç√≠t√°m fresh hl√°≈°ku‚Ä¶</div>
      <div class="row">
        <button id="next" class="primary">Dal≈°√≠ shot üî•</button>
        <button id="copy" class="ghost">Zkop√≠rovat odkaz</button>
        <button id="share" class="ghost tiny">Sd√≠let</button>
      </div>
      <footer>
        <div class="mode">
          <span>Mood:</span>
          <button data-mode="genz" id="btnGenz" class="active">Gen-Z</button>
          <button data-mode="family_friendly" id="btnSafe">Safe</button>
        </div>
        <div class="hint">Tip: po p√°r kliknut√≠ch otev≈ôu chat.</div>
      </footer>
    </div>
  </div>

  <div class="bubble" id="bubble">
    <div id="bubbleText">K√°mo‚Ä¶</div>
    <div class="hint"><a href="/chat.html">Pojƒè pokecat ‚Üí</a></div>
  </div>

<script>
let CLICKS = 0;
let OPENERS=[], FRAGMENTS=[], QUOTES=[], TEASERS=[];
let MODE = (localStorage.getItem('mode') || 'genz');

const pick = arr => arr[Math.floor(Math.random()*arr.length)];
const qEl = () => document.getElementById('quote');

async function loadConfig(){
  try{
    const cfg = await fetch('./config/app.json').then(r=>r.json());
    OPENERS = cfg.openers||[]; FRAGMENTS = cfg.fragments||[];
    QUOTES = cfg.quotes||[]; TEASERS = cfg.teaserLines||[];
    if (!cfg.modes?.[MODE]) MODE = cfg.defaultMode || 'genz';
  }catch(e){
    // fallback
    OPENERS=['K√°mo‚Ä¶','Real talk:','No cap ‚Äì']; FRAGMENTS=['to je mid.','chill, d√°me fix.','pot≈ôebuje to v√≠c drip.'];
    QUOTES=['Bro, proƒç to laguje?','This is not it, chief.','Skibidi moment.']; TEASERS=['M√°m i chat ‚Üí','No cap, pi≈° mi ‚Üí'];
  }
}

function compose(){
  // 55 % slo≈æen√° vƒõta, 45 % hotov√° hl√°≈°ka
  if (Math.random() < .55 && OPENERS.length && FRAGMENTS.length) {
    return `${pick(OPENERS)} ${pick(FRAGMENTS)}`;
  }
  return pick(QUOTES);
}

function setQuote(text, push=true){
  qEl().textContent = text;
  const url = new URL(location.href);
  url.searchParams.set('q', encodeURIComponent(text));
  url.searchParams.set('mode', MODE);
  history[push?'pushState':'replaceState'](null,'',url);
}

function maybeShowBubble(){
  const bubble = document.getElementById('bubble');
  const bubbleText = document.getElementById('bubbleText');
  if (CLICKS >= 1 && (CLICKS <= 4 ? Math.random() < 0.55 : Math.random() < 0.3)) {
    bubbleText.textContent = pick(TEASERS);
    bubble.classList.add('show');
  }
}

async function init(){
  await loadConfig();

  const next = document.getElementById('next');
  const copy = document.getElementById('copy');
  const share = document.getElementById('share');
  const btnGenz = document.getElementById('btnGenz');
  const btnSafe = document.getElementById('btnSafe');

  function applyModeButtons(){
    btnGenz.classList.toggle('active', MODE==='genz');
    btnSafe.classList.toggle('active', MODE==='family_friendly');
  }
  btnGenz.onclick = () => { MODE='genz'; localStorage.setItem('mode',MODE); applyModeButtons(); };
  btnSafe.onclick = () => { MODE='family_friendly'; localStorage.setItem('mode',MODE); applyModeButtons(); };

  const qFromUrl = new URLSearchParams(location.search).get('q');
  const mFromUrl = new URLSearchParams(location.search).get('mode');
  if (mFromUrl) { MODE = mFromUrl; localStorage.setItem('mode', MODE); }
  applyModeButtons();

  if (qFromUrl) setQuote(decodeURIComponent(qFromUrl), false);
  else setQuote(compose(), false);

  next.addEventListener('click', ()=>{ CLICKS++; setQuote(compose()); maybeShowBubble(); });

  copy.addEventListener('click', async ()=>{
    await navigator.clipboard.writeText(location.href);
    copy.textContent = 'Zkop√≠rov√°no ‚úÖ'; setTimeout(()=>copy.textContent='Zkop√≠rovat odkaz', 1100);
  });

  share.addEventListener('click', async ()=>{
    try{
      if (navigator.share) await navigator.share({ title:'TY VOLE .wtf', text:qEl().textContent, url:location.href });
      else { await navigator.clipboard.writeText(location.href); }
      share.textContent='Sd√≠leno ‚úÖ'; setTimeout(()=>share.textContent='Sd√≠let',1100);
    }catch(_){}
  });
}

init();
</script>
</body>
</html>
